name: Railway ë°°í¬

on:
  push:
    branches: [ main ]
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  deploy:
    name: Railwayì— ë°°í¬
    runs-on: ubuntu-latest
    
    steps:
    - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ
      uses: actions/checkout@v4
    
    - name: Railway CLI ì„¤ì¹˜
      run: |
        echo "ğŸš‚ Railway CLI ì„¤ì¹˜ ì¤‘..."
        npm install -g @railway/cli || echo "âš ï¸ Railway CLI ì„¤ì¹˜ ì‹¤íŒ¨ (ìˆ˜ë™ ë°°í¬ í•„ìš”)"
    
    - name: Railway ë°°í¬
      env:
        RAILWAY_TOKEN: ${{ secrets.RAILWAY_TOKEN }}
      run: |
        echo "ğŸš€ Railway ë°°í¬ ì‹œì‘..."
        echo "âš ï¸ Railway í† í°ì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ìˆ˜ë™ ë°°í¬ê°€ í•„ìš”í•©ë‹ˆë‹¤."
        echo "Railway ëŒ€ì‹œë³´ë“œì—ì„œ GitHub ì—°ê²°ì„ í†µí•´ ìë™ ë°°í¬ë¥¼ ì„¤ì •í•˜ì„¸ìš”."
        # Railway CLIë¥¼ ì‚¬ìš©í•œ ë°°í¬ëŠ” í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤
        # railway up --service <service-name> || echo "ìˆ˜ë™ ë°°í¬ í•„ìš”"

